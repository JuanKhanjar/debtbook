/* ================= MOBILE-FIRST THEME ================= */
:root{
  --font:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;

  --bg: linear-gradient(180deg,#EFFFF8 0%, #F6FFFB 35%, #F4FFFC 100%);
  --panel:#fff;
  --ink:#0E1B1A;
  --muted:#5F7C79;
  --line:#D8E7E3;

  --accent:#006E64;
  --accent-2:#004E4A;
  --tint:#C8F0E6;
  --cta:#52D6A3;

  --good:#0f5132;
  --bad:#842029;

  --shadow-1:0 10px 24px -10px rgba(0,110,100,.20);
  --radius:18px;
}

/* Extra themes */
html[data-theme="slate"]{ --bg:linear-gradient(180deg,#F7FAFC 0%,#FDFEFE 100%); --ink:#1F2937; --muted:#6B7280; --line:#E5E7EB; --accent:#3B82F6; --accent-2:#1D4ED8; --tint:#EEF2FF; --cta:#60A5FA; --good:#166534; --bad:#991b1b }
html[data-theme="royal"]{ --bg:linear-gradient(180deg,#EFF6FF 0%,#FFFFFF 100%); --ink:#0F172A; --muted:#475569; --line:#E2E8F0; --accent:#1E40AF; --accent-2:#172554; --tint:#DBEAFE; --cta:#60A5FA; --good:#065f46; --bad:#b91c1c }
html[data-theme="sand"] { --bg:linear-gradient(180deg,#FFF8E1 0%,#FFFFFF 100%); --ink:#3D2E13; --muted:#7C6A46; --line:#EBD9AE; --accent:#C58917; --accent-2:#8A5E0E; --tint:#FFF2CC; --cta:#F4B400; --good:#166534; --bad:#9f1239 }

*{box-sizing:border-box}
html,body{height:100%}
body{margin:0; font-family:var(--font); color:var(--ink); background:var(--bg) fixed; -webkit-font-smoothing:antialiased}
a{color:var(--accent); text-decoration:none} a:hover{color:var(--accent-2)}
[hidden]{display:none!important}
.visually-hidden{position:absolute!important; left:-9999px!important; width:1px; height:1px; overflow:hidden}

/* -------- Layout (mobile-first) -------- */
.card{background:var(--panel); border:1px solid var(--line); border-radius:var(--radius); box-shadow:var(--shadow-1)}
.topbar{display:flex; flex-wrap:wrap; gap:.6rem 1rem; align-items:center; justify-content:space-between; padding:0.8rem 1rem; margin:1rem auto; max-width:1200px}
.brand{display:flex; align-items:center; gap:.6rem; font-weight:800}
.brand i{color:var(--accent)}
.controls{display:flex; flex-wrap:wrap; gap:.5rem; align-items:center}
.control{display:flex; gap:.35rem; align-items:center; font-weight:600; color:var(--muted)}
.control select{border:1px solid var(--line); border-radius:12px; padding:.55rem .9rem; font-weight:700; background:#fff; color:var(--ink); cursor:pointer}
.btn-primary{background:var(--accent); color:#fff; border:1px solid var(--accent); border-radius:12px; padding:.6rem .9rem; font-weight:800; cursor:pointer}
.btn-primary:hover{background:var(--accent-2)}
.btn-outline{background:#fff; color:var(--accent); border:1px dashed var(--line); border-radius:12px; padding:.6rem .9rem; font-weight:800; cursor:pointer}
.btn-outline:hover{border-style:solid}
.btn-sm{padding:.45rem .7rem; border-radius:10px; font-weight:700}
.file-btn{position:relative; overflow:hidden}
.file-btn input{position:absolute; inset:0; opacity:0; cursor:pointer}
.w-100{width:100%}

.app{margin:1rem auto; display:grid; grid-template-columns:1fr; gap:1rem; padding:0 1rem; max-width:1200px}
.panel{padding:1rem}
.preview{padding:1rem; display:flex; flex-direction:column; gap:1rem}

/* -------- Blocks & forms -------- */
.blk{border:1px solid var(--line); border-radius:14px; padding:.6rem .8rem; margin-bottom:.8rem; background:#fff}
.blk>summary{list-style:none; cursor:pointer; display:flex; align-items:center; gap:.6rem; font-weight:800; color:var(--accent)}
.blk[open]>summary{margin-bottom:.6rem}
.blk>summary::-webkit-details-marker{display:none}

.grid-2{display:grid; grid-template-columns:1fr; gap:.6rem}
@media (min-width:860px){ .grid-2{grid-template-columns:1fr 1fr} }

.fg{display:flex; flex-direction:column; gap:.35rem}
.fg>span{font-size:.9rem; color:var(--muted); font-weight:600}
input, textarea, select{width:100%; border:1px solid var(--line); border-radius:12px; background:#fff; color:#0e1b1a; padding:.75rem .9rem; font:500 1rem/1.2 var(--font); transition:border .15s, box-shadow .15s}
textarea{min-height:100px; resize:vertical}
input:focus, textarea:focus, select:focus{outline:none; border-color:var(--accent); box-shadow:0 0 0 4px color-mix(in oklab, var(--accent) 28%, transparent)}

.search{position:relative}
.search i{position:absolute; left:.65rem; top:50%; transform:translateY(-50%); color:var(--muted)}
.search input{padding-left:2rem}

.list-head{display:flex; align-items:center; justify-content:space-between; margin:.5rem 0 .35rem}
.people-list{display:flex; flex-direction:column; gap:.45rem; max-height:330px}
.scroll{overflow:auto}
.person{border:1px solid var(--line); border-radius:12px; padding:.55rem .65rem; display:flex; align-items:center; justify-content:space-between; gap:.6rem; background:#fff; cursor:pointer}
.person .meta{display:flex; flex-direction:column; line-height:1.2}
.person .name{font-weight:800}
.person .contact{color:var(--muted); font-weight:600; font-size:.9rem}
.person .bal{font-weight:800}
.person.positive .bal{color:var(--good)}
.person.negative .bal{color:var(--bad)}
.person.active{outline:3px solid color-mix(in oklab, var(--accent) 36%, transparent)}

.icon-btn{border:1px solid var(--line); background:#fff; color:var(--muted); border-radius:10px; padding:.35rem .5rem; cursor:pointer}
.icon-btn:hover{color:var(--ink); border-color:var(--accent)}

.info-small{color:var(--muted); font-weight:700; margin:.2rem 0 .5rem}
.hint{color:var(--muted); font-size:.9rem; margin-top:.4rem}

/* -------- Summary cards -------- */
.summary{display:grid; grid-template-columns:1fr; gap:.6rem}
@media (min-width:720px){ .summary{grid-template-columns:repeat(3,1fr)} }
.sum-card{border:1px solid var(--line); border-radius:12px; padding:.75rem .9rem; background:#fff}
.sum-card .label{color:var(--muted); font-weight:700; margin-bottom:.25rem}
.sum-card .value{font-weight:800; font-size:1.35rem}

/* -------- Tabs -------- */
.tabs{display:flex; align-items:center; gap:.5rem; border:1px solid var(--line); border-radius:12px; padding:.35rem; background:#fff}
.tab{border:none; background:transparent; font-weight:800; color:var(--muted); padding:.5rem .8rem; border-radius:10px; cursor:pointer}
.tab.active{background:color-mix(in oklab, var(--tint) 45%, white); color:var(--accent); border:1px solid var(--line)}
.tabs-right{margin-left:auto}

/* -------- Statement (mobile-first) -------- */
.no-scrollbar{scrollbar-width:none}
.no-scrollbar::-webkit-scrollbar{display:none}

#a4-page{
  width:100%;
  min-height:60vh;
  padding:16px;
  background:#fff;
  border:1px solid var(--line);
  border-radius:12px;
  box-shadow:var(--shadow-1);
}
@media (min-width:980px){
  #a4-page{
    /*width:210mm; */             /* A4 look on big screens */
    min-height:297mm;
    padding:14mm;
  }
}
#a4-header{border-bottom:3px solid var(--accent); padding-bottom:10px; margin-bottom:14px; display:flex; align-items:flex-end; justify-content:space-between; gap:10px}
#a4-header .title{display:flex; align-items:baseline; gap:12px; flex-wrap:wrap}
#a4-header h1{margin:0; font-size:2rem; font-weight:800; color:var(--accent-2)}
#a4-header .badge{background:color-mix(in oklab, var(--cta) 20%, white); border:1px solid var(--line); border-radius:999px; padding:.25rem .6rem; font-weight:800}
#a4-header .contact{color:var(--muted); font-weight:700}
.table{width:100%; border-collapse:collapse; margin-top:.6rem}
.table th,.table td{border-bottom:1px solid var(--line); padding:.5rem .4rem; text-align:left}
.table th{color:var(--muted); font-weight:800}
.table .num{text-align:right; font-weight:800}
.tag{display:inline-block; background:#f8fafc; border:1px solid var(--line); padding:.15rem .45rem; border-radius:8px; font-weight:700; color:#124}
.bad{color:var(--bad)}
.good{color:var(--good)}
.overdue{background:rgba(200,0,0,.08); border-color:#f1c2c2}

/* -------- Dashboard -------- */
.dash{display:flex; flex-direction:column; gap:.8rem}
.kpis{display:grid; grid-template-columns:1fr; gap:.6rem}
@media (min-width:860px){ .kpis{grid-template-columns:repeat(4,1fr)} }
.kpi{background:#fff; border:1px solid var(--line); border-radius:12px; padding:.75rem .9rem}
.kpi-label{color:var(--muted); font-weight:700}
.kpi-val{font-weight:800; font-size:1.35rem}
.chart-card{background:#fff; border:1px solid var(--line); border-radius:12px; padding:.75rem .9rem}
.chart-title{font-weight:800; color:var(--accent-2); margin-bottom:.45rem; display:flex; align-items:center; gap:.45rem}
.chart-card canvas{width:100%; height:260px}
.grid-2{display:grid; grid-template-columns:1fr; gap:.6rem}
@media (min-width:860px){ .grid-2{grid-template-columns:1fr 1fr} }

/* -------- Print -------- */
@media print{
  body{background:#fff}
  .topbar,.panel,.summary,.tabs,#tab-dashboard{display:none!important}
  @page{size:a4;margin:0}
  #a4-page{position:absolute; inset:0; width:210mm; height:297mm; border:none; border-radius:0; box-shadow:none; padding:10mm}
}